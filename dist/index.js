export default function DOM(e){"string"==typeof e&&(e=document.createElement(e));const t={css:n=>(Object.entries(n).forEach(t=>e.style[t[0]]=addPx(t)),t),attr:n=>(Object.entries(n).forEach(t=>null!=t[1]?e.setAttribute(t[0],t[1]):e.removeAttribute(t[0])),t),on:(n,r,o=!1)=>(o?e["on"+n]=r:e.addEventListener(n,r,!1),t),off:(n,r)=>(e.removeEventListener(n,r,!1),t),addClass:e=>t.toggleClass(e,!0),removeClass:e=>t.toggleClass(e,!1),toggleClass:(n,r)=>(e.classList.toggle(n.replace("."," ").trim(),r),t),hasClass:t=>e.classList.contains(t),el:()=>e,add:(...n)=>(add(e,n),t),html:n=>null==n?e.innerHTML:(e.innerHTML=n,t),text:n=>null==n?e.textContent:(e.textContent=n,t),clear(){let n;for(;n=e.firstChild;)e.removeChild(n);return t},appendTo:e=>((e=e instanceof HTMLElement?DOM(e):e).add(t),t),remove(){const n=e.parentNode;return n&&n.removeChild(e),t}};return t};const igonore=["opacity","zIndex"];function addPx([e,t]){return t&&-1===igonore.indexOf(toCode(e))&&/^-?\d*(.\d+)?$/.test(t)?t+"px":t}function toCode(e){return e.replace(/^([A-Z])|-(\w)/g,(e,t,n)=>(n||t).toUpperCase())}function add(e,t){t.forEach(t=>{if(null!=t){if("string"==typeof t)return e.appendChild(document.createTextNode(t));if(null!=t.nodeType)return e.appendChild(t);if(t.el instanceof Function)return e.appendChild(t.el());if(Array.isArray(t))return add(e,t);throw console.error("Unsupported child node: ",t,t.el,t.el instanceof Function),new RangeError("Unsupported child node: "+t)}})}
